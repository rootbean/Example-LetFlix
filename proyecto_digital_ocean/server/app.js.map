{"version":3,"sources":["app.js"],"names":["app","server","createServer","socketio","require","serveClient","path","default","startServer","angularFullstack","listen","port","ip","console","log","get","sequelize","sync","then","catch","err","exports","module"],"mappings":"AAAA;;;;AAIA;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;AACA,IAAIA,MAAM,wBAAV;AACA,IAAIC,SAAS,eAAKC,YAAL,CAAkBF,GAAlB,CAAb;AACA,IAAIG,WAAWC,QAAQ,WAAR,EAAqBH,MAArB,EAA6B;AAC1CI,eAAa,IAD6B;AAE1CC,QAAM;AAFoC,CAA7B,CAAf;AAIAF,QAAQ,mBAAR,EAA6BG,OAA7B,CAAqCJ,QAArC;AACAC,QAAQ,kBAAR,EAA4BG,OAA5B,CAAoCP,GAApC;AACAI,QAAQ,UAAR,EAAoBG,OAApB,CAA4BP,GAA5B;;AAEA;AACA,SAASQ,WAAT,GAAuB;AACrBR,MAAIS,gBAAJ,GAAuBR,OAAOS,MAAP,CAAc,sBAAOC,IAArB,EAA2B,sBAAOC,EAAlC,EAAsC,YAAW;AACtEC,YAAQC,GAAR,CAAY,4CAAZ,EAA0D,sBAAOH,IAAjE,EAAuEX,IAAIe,GAAJ,CAAQ,KAAR,CAAvE;AACD,GAFsB,CAAvB;AAGD;;AAED,gBAAMC,SAAN,CAAgBC,IAAhB,GACGC,IADH,iBAEGA,IAFH,CAEQV,WAFR,EAGGW,KAHH,CAGS,UAASC,GAAT,EAAc;AACnBP,UAAQC,GAAR,CAAY,yCAAZ,EAAuDM,GAAvD;AACD,CALH;;AAOA;AACAC,UAAUC,OAAOD,OAAP,GAAiBrB,GAA3B","file":"app.js","sourcesContent":["/**\n * Main application file\n */\n\n'use strict';\n\nimport express from 'express';\nimport sqldb from './sqldb';\nimport config from './config/environment';\nimport http from 'http';\nimport seedDatabaseIfNeeded from './config/seed';\n\n// Setup server\nvar app = express();\nvar server = http.createServer(app);\nvar socketio = require('socket.io')(server, {\n  serveClient: true,\n  path: '/socket.io-client'\n});\nrequire('./config/socketio').default(socketio);\nrequire('./config/express').default(app);\nrequire('./routes').default(app);\n\n// Start server\nfunction startServer() {\n  app.angularFullstack = server.listen(config.port, config.ip, function() {\n    console.log('Express server listening on %d, in %s mode', config.port, app.get('env'));\n  });\n}\n\nsqldb.sequelize.sync()\n  .then(seedDatabaseIfNeeded)\n  .then(startServer)\n  .catch(function(err) {\n    console.log('Server failed to start due to error: %s', err);\n  });\n\n// Expose app\nexports = module.exports = app;\n"]}